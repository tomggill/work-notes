---
created: 2024-07-12 11:22
tags:
  - DailyNotes
  - MoreTrees
  - Sprint2
---



#  Friday, July 12, 2024

<< [[Timestamps/2024/07-July/2024-07-11-Thursday|Yesterday]] | [[Timestamps/2024/07-July/2024-07-13-Saturday|Tomorrow]] >>

---
---
### üìÖ Wake Up
##### üôå One thing I'm excited about right now is...
- Fixing the issues identified yesterday in the legacy DB payment history migration app functionality and thoroughly testing them.

##### üöÄ One thing I plan to accomplish today is...
-  Complete the cross charge payment history migration app functionality.

---
---
# üìù General Notes
---

## Block One
#### What I plan to do
- Fix the issue where all legacy DB yearly subscriptions aren't being identified by the legacy DB payment history migration app.
#### What I accomplished
- Fixed the issue where some legacy DB yearly subscriptions weren't being identified and scaled accordingly:
	- I have identified 191 legacy yearly subscriptions, 4 of these were refunded.
	- Therefore, 187 legacy yearly subscriptions should be migrated.
- Document queries and evidence to be confident the yearly subscriptions are now being identified correctly. See [here](https://thehut.atlassian.net/browse/IPMORE-530?focusedCommentId=463366).
- Document queries and evidence to be confident that the correct number of payment history entries are being migrated correctly. See [here](https://thehut.atlassian.net/browse/IPMORE-530?focusedCommentId=463359)
#### Notes
- N/A
---
## Block Two
#### What I plan to do
- Review the ticket for fixing the Invoice Total and VAT calculation for discounted credits. See [here](https://github.com/THG-More-Trees/mt-transaction-management-service/pull/482/files).
- Investigate the expected behaviour of invoices and when gross unit price or discount percentage should be used.
#### What I accomplished
- Pair programmed / investigate with Jack Owen and Jonathan King whilst reviewing the invoice and vat calculation fix.
	- The outcome was that cross charge credit assignments should have discount percentage set to null, but the gross unit price set to the cost per credit.
#### Notes
- N/A
---
## Block Three
#### What I plan to do
- Attend the O'Reilly lunch and learn (1 hour)
- Test the changes made to the legacy DB payment history migration app functionality in UAT.
#### What I accomplished
- Attended the O'Reilly lunch and learn to gain the knowledge to make the most of the learning platform.
- Added code which can be used to calculate a different gross unit price for yearly subscriptions that weren't made in `GBP` in case that requirement is added in testing on Monday 15th July.
- Tested the changes made to the legacy DB payment history migration app to ensure all yearly subscriptions are identified correctly.
- Tested the changes made to the legacy DB payment history migration app to ensure customers can see their payment activity history on the UI.
#### Notes
- N/A
---
## Block Four
#### What I plan to do
- Add comments for readability and auditing purposes for the cross charge payment history migration app functionality.
- Test the cache insert and validate the cache entries for the cross charge payment history migration app functionality, to ensure they have stored the correct values for the inserts into CockroachDB.
#### What I accomplished
- I added comments for readability and auditing purposes to the cross charge payment history migration app functionality.
- I tested and validated the cache entries for the cross charge payment history migration app functionality
#### Notes
- N/A

---
---
### üìÖ Wind Down
##### üôå What did I achieve today
- Fixed the issues identified yesterday in the legacy DB payment history migration app functionality and thoroughly testing them.

##### üöÄ How did I struggle today
* I struggled to fit in my goals for the day to due an unexpected pair programming session (2hr) and the O'Reilly lunch and learn (1hr).

---
---
### Notes created today
```dataview
List FROM "" WHERE file.cday = date("2024-07-12") SORT file.ctime asc
```

### Notes last touched today
```dataview
List FROM "" WHERE file.mday = date("2024-07-12") SORT file.mtime asc
```