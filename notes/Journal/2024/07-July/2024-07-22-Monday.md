---
created: 2024-07-22 12:08
tags:
  - DailyNotes
  - MoreTrees
  - Sprint2
---



#  Monday, July 22, 2024

<< [[Timestamps/2024/07-July/2024-07-21-Sunday|Yesterday]] | [[Timestamps/2024/07-July/2024-07-23-Tuesday|Tomorrow]] >>

---
---
### ğŸ“… Wake Up
##### ğŸ™Œ One thing I'm excited about right now is...
- Progressing onto migrating the Brand Cross Charge plantation and payment history data.

##### ğŸš€ One thing I plan to accomplish today is...
-  Implement a fix so that plantations bought directly using credit card updates the account credits total.

---
---
# ğŸ“ General Notes
---

## Block One
#### What I plan to do
- Spend time writing up a self-assessment
- Investigate the payment flows for making plantations directly with credit cards.
- Respond to change requests for the update query for fixing the incorrect account credits totals.
#### What I accomplished
- I spent around 45 minutes writing up the deliverables section of my self assessment. See [[2024 Self Assessment]].
- I investigated the payment flows:
	- Plant For Myself By Card - no 3DS
	- Plant For Others By Card - no 3DS
	- Plant For Myself By Card - 3DS confirmation required.
	- Plant For Others By Card - 3DS confirmation required.
- Responded to change requests for the update query for fixing the incorrect account credits. See [here](https://github.com/THG-More-Trees/mt-transaction-management-service/pull/487).
#### Notes
- N/A
---
## Block Two
#### What I plan to do
- Make the requested changes to the update query for fixing the incorrect account credits.
#### What I accomplished
- I have updated the update query for fixing the incorrect account credits:
	- Refactored the query so that the conditions limiting the update to all users who will have their credits changed appears within the nested select in a `HAVING` clause.
	- Refactored the query so that only required fields are selected.
#### Notes
- N/A
---
## Block Three
#### What I plan to do
- Implement the functionality to update the `credits_loaded` and `credits_used` field when an account makes a plantation directly using card.
#### What I accomplished
- Implement the functionality to update the `credits_loaded` and `credits_used` field when an account makes a plantation directly using card.
	- If the account plants for themself or others with 3DS it will update the `account_credits` fields after the payment goes through successfully.
#### Notes
- N/A
---
## Block Four
#### What I plan to do
- Test the functionality that the `credits_loaded` and `credits_used` are both updated when an account makes a plantation directly using a card.
#### What I accomplished
- The functionality that the `credits_loaded` and `credits_used` are both updated when an account makes a plantation directly using a card has been tested and was successful.
	- Tested the functionality when making a plantation for myself without 3DS.
	- Tested the functionality when making a plantation for myself with 3DS.
	- Tested the functionality when making a plantation for others without 3DS.
	- Tested the functionality when making a plantation for others with 3DS.
#### Notes
- N/A

---
---
### ğŸ“… Wind Down
##### ğŸ™Œ What did I achieve today
- Implement the functionality to update the `credits_loaded` and `credits_used` field when an account makes a plantation directly using card.

##### ğŸš€ How did I struggle today
* I wasn't familiar with the testing used for the plant by card tests. Fixing the failed tests for this area took longer than expected due to unfamiliarity.

---
---
### Notes created today
```dataview
List FROM "" WHERE file.cday = date("2024-07-22") SORT file.ctime asc
```

### Notes last touched today
```dataview
List FROM "" WHERE file.mday = date("2024-07-22") SORT file.mtime asc
```